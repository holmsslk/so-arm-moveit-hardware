# ğŸ—ï¸ SO-ARM é¡¹ç›®æ¶æ„æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

SO-ARM æ˜¯ä¸€ä¸ªåŸºäº ROS2 Humble çš„ 6-DOF æœºæ¢°è‡‚æ§åˆ¶ç³»ç»Ÿï¼Œæ”¯æŒï¼š
- âœ… Isaac Sim ä»¿çœŸç¯å¢ƒ
- âœ… çœŸå®ç¡¬ä»¶æ§åˆ¶ï¼ˆFeetech ST-3215-C001 èˆµæœºï¼‰
- âœ… MoveIt 2 è¿åŠ¨è§„åˆ’
- âœ… RViz2 å¯è§†åŒ–

---

## ğŸ“¦ åŒ…ç»“æ„æ€»è§ˆ

```
so-arm_moveit_isaacsim_ws/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ so_arm_description/          # æœºå™¨äººæè¿°ï¼ˆURDF/Xacroï¼‰
â”‚   â”œâ”€â”€ so_arm_moveit_config/        # MoveIt é…ç½®
â”‚   â”œâ”€â”€ so_arm_bringup/              # å¯åŠ¨æ–‡ä»¶
â”‚   â”œâ”€â”€ so_arm_hardware/             # ç¡¬ä»¶æ¥å£ï¼ˆNEW!ï¼‰
â”‚   â”œâ”€â”€ so_arm_interfaces/           # è‡ªå®šä¹‰æ¶ˆæ¯/æœåŠ¡
â”‚   â””â”€â”€ so_arm_commander_cpp/        # é«˜çº§æ§åˆ¶æ¥å£
â”œâ”€â”€ install/                         # ç¼–è¯‘åçš„åŒ…
â”œâ”€â”€ build/                           # ç¼–è¯‘ç¼“å­˜
â”œâ”€â”€ log/                             # æ—¥å¿—æ–‡ä»¶
â””â”€â”€ [æ–‡æ¡£å’Œå·¥å…·]
    â”œâ”€â”€ fix_servo.cpp                # èˆµæœºè¯Šæ–­å·¥å…·
    â”œâ”€â”€ compile_fix_servo.sh         # ç¼–è¯‘è„šæœ¬
    â”œâ”€â”€ test_hardware_control.sh     # æµ‹è¯•è„šæœ¬
    â”œâ”€â”€ quick_test.sh                # å¿«é€Ÿæµ‹è¯•è„šæœ¬
    â””â”€â”€ [å„ç§ .md æ–‡æ¡£]
```

---

## ğŸ” è¯¦ç»†åŒ…æ¶æ„

### 1. so_arm_description

**åŠŸèƒ½**ï¼šæœºå™¨äººçš„ç‰©ç†å’Œè§†è§‰æè¿°

**ç›®å½•ç»“æ„**ï¼š
```
so_arm_description/
â”œâ”€â”€ urdf/
â”‚   â”œâ”€â”€ so101.urdf.xacro              # ä¸» URDF æ–‡ä»¶
â”‚   â”œâ”€â”€ so101.ros2_control.xacro      # ä»¿çœŸæ§åˆ¶æ¥å£
â”‚   â”œâ”€â”€ so101.ros2_control.hardware.xacro  # ç¡¬ä»¶æ§åˆ¶æ¥å£
â”‚   â””â”€â”€ so101.gazebo.xacro            # Gazebo é…ç½®
â”œâ”€â”€ meshes/                           # 3D æ¨¡å‹æ–‡ä»¶
â”‚   â”œâ”€â”€ base_link.STL
â”‚   â”œâ”€â”€ shoulder.STL
â”‚   â”œâ”€â”€ lower_arm.STL
â”‚   â”œâ”€â”€ upper_arm.STL
â”‚   â”œâ”€â”€ wrist.STL
â”‚   â”œâ”€â”€ gripper.STL
â”‚   â””â”€â”€ jaw.STL
â”œâ”€â”€ config/
â”‚   â””â”€â”€ joint_limits.yaml             # å…³èŠ‚é™ä½
â””â”€â”€ CMakeLists.txt
    package.xml
```

**å…³é”®æ–‡ä»¶è¯´æ˜**ï¼š

#### `so101.urdf.xacro`
- ä¸» URDF å®šä¹‰æ–‡ä»¶
- å‚æ•° `use_hardware`:
  - `false` â†’ ä½¿ç”¨ `so101.ros2_control.xacro` (ä»¿çœŸ)
  - `true` â†’ ä½¿ç”¨ `so101.ros2_control.hardware.xacro` (çœŸå®ç¡¬ä»¶)

#### `so101.ros2_control.hardware.xacro`
- ç¡¬ä»¶æ¥å£é…ç½®
- å®šä¹‰èˆµæœº ID æ˜ å°„
- è®¾ç½®ä½ç½®åç§»å’Œç¼©æ”¾å‚æ•°

**å…³èŠ‚ç»“æ„**ï¼š
```
base_link (å›ºå®š)
  â””â”€ Rotation (æ—‹è½¬) â†’ shoulder
      â””â”€ Pitch (ä¿¯ä»°) â†’ lower_arm
          â””â”€ Elbow (è‚˜) â†’ upper_arm
              â””â”€ Wrist_Pitch (è…•ä¿¯ä»°) â†’ wrist
                  â””â”€ Wrist_Roll (è…•æ—‹è½¬) â†’ gripper
                      â””â”€ Jaw (å¤¹çˆª) â†’ jaw
```

---

### 2. so_arm_moveit_config

**åŠŸèƒ½**ï¼šMoveIt 2 è¿åŠ¨è§„åˆ’é…ç½®

**ç›®å½•ç»“æ„**ï¼š
```
so_arm_moveit_config/
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ so101.srdf                    # è¯­ä¹‰æœºå™¨äººæè¿°
â”‚   â”œâ”€â”€ so101.urdf.xacro              # URDF é“¾æ¥
â”‚   â”œâ”€â”€ so101.ros2_control.xacro      # æ§åˆ¶æ¥å£
â”‚   â”œâ”€â”€ kinematics.yaml               # è¿åŠ¨å­¦æ±‚è§£å™¨é…ç½®
â”‚   â”œâ”€â”€ joint_limits.yaml             # å…³èŠ‚é€Ÿåº¦/åŠ é€Ÿåº¦é™åˆ¶
â”‚   â”œâ”€â”€ moveit_controllers.yaml       # MoveIt æ§åˆ¶å™¨æ˜ å°„
â”‚   â”œâ”€â”€ ompl_planning.yaml            # OMPL è§„åˆ’å™¨é…ç½®
â”‚   â”œâ”€â”€ pilz_cartesian_limits.yaml    # ç¬›å¡å°”é™åˆ¶
â”‚   â”œâ”€â”€ initial_positions.yaml        # åˆå§‹ä½ç½®
â”‚   â”œâ”€â”€ ros2_controllers.yaml         # ROS2 æ§åˆ¶å™¨
â”‚   â””â”€â”€ moveit.rviz                   # RViz é…ç½®
â”œâ”€â”€ launch/
â”‚   â”œâ”€â”€ move_group.launch.py          # MoveIt move_group èŠ‚ç‚¹
â”‚   â”œâ”€â”€ moveit_rviz.launch.py         # RViz å¯è§†åŒ–
â”‚   â”œâ”€â”€ rsp.launch.py                 # Robot State Publisher
â”‚   â”œâ”€â”€ setup_assistant.launch.py     # MoveIt Setup Assistant
â”‚   â”œâ”€â”€ spawn_controllers.launch.py   # æ§åˆ¶å™¨å¯åŠ¨
â”‚   â”œâ”€â”€ static_virtual_joint_tfs.launch.py
â”‚   â””â”€â”€ warehouse_db.launch.py        # åœºæ™¯æ•°æ®åº“
â””â”€â”€ .setup_assistant                  # Setup Assistant å…ƒæ•°æ®
```

**å…³é”®é…ç½®è¯´æ˜**ï¼š

#### `so101.srdf`
- å®šä¹‰è§„åˆ’ç»„ `arm`ï¼ˆåŒ…å«æ‰€æœ‰6ä¸ªå…³èŠ‚ï¼‰
- å®šä¹‰é¢„è®¾å§¿æ€ `home`ï¼ˆæ‰€æœ‰å…³èŠ‚ä¸º0ï¼‰
- ç¦ç”¨ç¢°æ’å¯¹ï¼ˆä¼˜åŒ–æ€§èƒ½ï¼‰
- å®šä¹‰è™šæ‹Ÿå…³èŠ‚ï¼ˆå›ºå®šåˆ° worldï¼‰

#### `kinematics.yaml`
```yaml
/**:
  ros__parameters:
    arm:
      kinematics_solver: kdl_kinematics_plugin/KDLKinematicsPlugin
      kinematics_solver_search_resolution: 0.005
      kinematics_solver_timeout: 0.005
```
- ä½¿ç”¨ KDL è¿åŠ¨å­¦æ±‚è§£å™¨
- æœç´¢åˆ†è¾¨ç‡ï¼š0.005
- è¶…æ—¶æ—¶é—´ï¼š5ms

#### `joint_limits.yaml`
- é»˜è®¤é€Ÿåº¦ç¼©æ”¾ï¼š0.1 (10%)
- é»˜è®¤åŠ é€Ÿåº¦ç¼©æ”¾ï¼š0.1 (10%)
- æ¯ä¸ªå…³èŠ‚æœ€å¤§é€Ÿåº¦ï¼š10.0 rad/s

#### `moveit_controllers.yaml`
- æ§åˆ¶å™¨ç±»å‹ï¼šFollowJointTrajectory
- æ§åˆ¶å™¨åç§°ï¼šarm_controller
- æ˜ å°„åˆ°æ‰€æœ‰6ä¸ªå…³èŠ‚

---

### 3. so_arm_bringup

**åŠŸèƒ½**ï¼šç³»ç»Ÿå¯åŠ¨æ–‡ä»¶å’Œé…ç½®

**ç›®å½•ç»“æ„**ï¼š
```
so_arm_bringup/
â”œâ”€â”€ launch/
â”‚   â”œâ”€â”€ so_arm.launch.py                      # ä»¿çœŸå®Œæ•´å¯åŠ¨
â”‚   â”œâ”€â”€ so_arm_hardware_simple.launch.py      # ç¡¬ä»¶æ¥å£ï¼ˆæ— MoveItï¼‰âœ…
â”‚   â”œâ”€â”€ so_arm_hardware_with_rviz.launch.py   # ç¡¬ä»¶ + RViz
â”‚   â”œâ”€â”€ so_arm_moveit_hardware.launch.py      # ç¡¬ä»¶ + MoveIt â­
â”‚   â””â”€â”€ so_arm_hardware.launch.py             # ç¡¬ä»¶ + MoveIt (æ—§ç‰ˆ)
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ ros2_controllers.yaml                 # ROS2 Control é…ç½®
â”‚   â”œâ”€â”€ so_arm.rviz                          # åŸºç¡€ RViz é…ç½®
â”‚   â”œâ”€â”€ so_arm_moveit.rviz                   # MoveIt RViz é…ç½®
â”‚   â””â”€â”€ hardware_view.rviz                   # ç¡¬ä»¶è§†å›¾é…ç½®
â””â”€â”€ CMakeLists.txt
    package.xml
```

**Launch æ–‡ä»¶å¯¹æ¯”**ï¼š

| Launch æ–‡ä»¶ | ç¡¬ä»¶æ¥å£ | MoveIt | RViz | ç”¨é€” |
|------------|---------|--------|------|------|
| `so_arm_hardware_simple.launch.py` | âœ… | âŒ | âŒ | åŸºç¡€ç¡¬ä»¶æµ‹è¯• |
| `so_arm_hardware_with_rviz.launch.py` | âœ… | âŒ | âœ… | å¯è§†åŒ–æµ‹è¯• |
| `so_arm_moveit_hardware.launch.py` | âœ… | âœ… | âœ… | **å®Œæ•´MoveItæ§åˆ¶** â­ |
| `so_arm.launch.py` | âŒ | âœ… | âœ… | ä»¿çœŸç¯å¢ƒ |

**æ¨èä½¿ç”¨**ï¼š`so_arm_moveit_hardware.launch.py`

---

### 4. so_arm_hardware

**åŠŸèƒ½**ï¼šçœŸå®ç¡¬ä»¶æ¥å£ï¼ˆROS2 Controlï¼‰

**ç›®å½•ç»“æ„**ï¼š
```
so_arm_hardware/
â”œâ”€â”€ include/so_arm_hardware/
â”‚   â”œâ”€â”€ so_arm_hardware_interface.hpp    # ç¡¬ä»¶æ¥å£å¤´æ–‡ä»¶
â”‚   â”œâ”€â”€ STSServo.h                       # èˆµæœºé©±åŠ¨å¤´æ–‡ä»¶
â”‚   â””â”€â”€ [FTServo é©±åŠ¨å¤´æ–‡ä»¶]
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ so_arm_hardware_interface.cpp    # ç¡¬ä»¶æ¥å£å®ç°
â”‚   â”œâ”€â”€ STSServo.cpp                     # èˆµæœºé©±åŠ¨å®ç°
â”‚   â””â”€â”€ [FTServo é©±åŠ¨æºæ–‡ä»¶]
â”œâ”€â”€ config/
â”‚   â””â”€â”€ hardware_params.yaml             # ç¡¬ä»¶å‚æ•°
â””â”€â”€ so_arm_hardware_plugin.xml           # æ’ä»¶æè¿°
    CMakeLists.txt
    package.xml
```

**æ ¸å¿ƒç±»**ï¼š`SoArmHardwareInterface`

**ç»§æ‰¿å…³ç³»**ï¼š
```
hardware_interface::SystemInterface
    â””â”€ SoArmHardwareInterface
```

**ä¸»è¦åŠŸèƒ½**ï¼š

#### ç”Ÿå‘½å‘¨æœŸæ–¹æ³•
```cpp
// åˆå§‹åŒ–ï¼šè¯»å–å‚æ•°
on_init(const hardware_interface::HardwareInfo & info)

// é…ç½®ï¼šè¿æ¥èˆµæœº
on_configure(const rclcpp_lifecycle::State & previous_state)

// æ¿€æ´»ï¼šä½¿èƒ½æ‰­çŸ©
on_activate(const rclcpp_lifecycle::State & previous_state)

// åœç”¨ï¼šç¦ç”¨æ‰­çŸ©
on_deactivate(const rclcpp_lifecycle::State & previous_state)

// æ¸…ç†ï¼šå…³é—­è¿æ¥
on_cleanup(const rclcpp_lifecycle::State & previous_state)
```

#### å®æ—¶å¾ªç¯
```cpp
// è¯»å–å…³èŠ‚çŠ¶æ€ï¼ˆ100Hzï¼‰
read(const rclcpp::Time & time, const rclcpp::Duration & period)

// å†™å…¥å…³èŠ‚å‘½ä»¤ï¼ˆ100Hzï¼‰
write(const rclcpp::Time & time, const rclcpp::Duration & period)
```

**èˆµæœºæ˜ å°„**ï¼š
```
å…³èŠ‚åç§°        èˆµæœºID    ä½ç½®èŒƒå›´(rad)    èˆµæœºèŒƒå›´(units)
Rotation       1         -Ï€ ~ Ï€           0 ~ 4095
Pitch          2         -Ï€/2 ~ Ï€/2       0 ~ 4095
Elbow          3         -Ï€ ~ Ï€           0 ~ 4095
Wrist_Pitch    4         -Ï€/2 ~ Ï€/2       0 ~ 4095
Wrist_Roll     5         -Ï€ ~ Ï€           0 ~ 4095
Jaw            6         -Ï€/4 ~ Ï€/4       0 ~ 4095
```

**ä½ç½®è½¬æ¢**ï¼š
```
servo_units = 2048 + (radians / 0.00153398)
radians = (servo_units - 2048) * 0.00153398
```

**å…³é”®ç‰¹æ€§**ï¼š
- âœ… åŒæ­¥å†™å…¥ï¼ˆSyncWriteï¼‰ä¼˜åŒ–
- âœ… å‘½ä»¤å˜åŒ–æ£€æµ‹ï¼ˆ1mradé˜ˆå€¼ï¼‰
- âœ… æ‰­çŸ©ä½¿èƒ½é‡è¯•æœºåˆ¶
- âœ… èˆµæœºå¥åº·æ£€æŸ¥
- âœ… æ¸©åº¦/ç”µæµç›‘æ§

---

### 5. so_arm_interfaces

**åŠŸèƒ½**ï¼šè‡ªå®šä¹‰æ¶ˆæ¯å’ŒæœåŠ¡å®šä¹‰

**ç›®å½•ç»“æ„**ï¼š
```
so_arm_interfaces/
â”œâ”€â”€ msg/
â”‚   â””â”€â”€ PoseComand.msg                   # ä½å§¿å‘½ä»¤æ¶ˆæ¯
â”œâ”€â”€ srv/
â”‚   â””â”€â”€ [æœåŠ¡å®šä¹‰æ–‡ä»¶]
â””â”€â”€ CMakeLists.txt
    package.xml
```

---

### 6. so_arm_commander_cpp

**åŠŸèƒ½**ï¼šé«˜çº§è¿åŠ¨æ§åˆ¶æ¥å£

**ç›®å½•ç»“æ„**ï¼š
```
so_arm_commander_cpp/
â”œâ”€â”€ include/so_arm_commander_cpp/
â”‚   â””â”€â”€ so_arm_commander.hpp             # Commander å¤´æ–‡ä»¶
â”œâ”€â”€ src/
â”‚   â””â”€â”€ so_arm_commander.cpp             # Commander å®ç°
â””â”€â”€ CMakeLists.txt
    package.xml
```

**åŠŸèƒ½**ï¼š
- å°è£… MoveIt æ¥å£
- æä¾›ç®€åŒ–çš„è¿åŠ¨æ§åˆ¶ API
- æ”¯æŒå…³èŠ‚ç©ºé—´å’Œç¬›å¡å°”ç©ºé—´è¿åŠ¨

---

## ğŸ”Œ ç³»ç»Ÿæ¶æ„å›¾

### ç¡¬ä»¶æ§åˆ¶æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ROS2 Network                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚   MoveIt     â”‚        â”‚    RViz2     â”‚              â”‚
â”‚  â”‚  move_group  â”‚â—„â”€â”€â”€â”€â”€â”€â–ºâ”‚  Visualizationâ”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚         â”‚                                                â”‚
â”‚         â”‚ /arm_controller/follow_joint_trajectory       â”‚
â”‚         â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚    ROS2 Control Framework            â”‚              â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚
â”‚  â”‚  â”‚  Controller Manager            â”‚  â”‚              â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚              â”‚
â”‚  â”‚  â”‚  â”‚ JointStateBoradcaster    â”‚  â”‚  â”‚              â”‚
â”‚  â”‚  â”‚  â”‚ (å‘å¸ƒ /joint_states)     â”‚  â”‚  â”‚              â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚              â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚              â”‚
â”‚  â”‚  â”‚  â”‚ JointTrajectoryControllerâ”‚  â”‚  â”‚              â”‚
â”‚  â”‚  â”‚  â”‚ (arm_controller)         â”‚  â”‚  â”‚              â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚              â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                 â”‚                                        â”‚
â”‚                 â”‚ Hardware Interface API                â”‚
â”‚                 â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  SoArmHardwareInterface              â”‚              â”‚
â”‚  â”‚  (so_arm_hardware package)           â”‚              â”‚
â”‚  â”‚                                       â”‚              â”‚
â”‚  â”‚  â€¢ read()  - è¯»å–å…³èŠ‚çŠ¶æ€ (100Hz)   â”‚              â”‚
â”‚  â”‚  â€¢ write() - å†™å…¥å…³èŠ‚å‘½ä»¤ (100Hz)   â”‚              â”‚
â”‚  â”‚                                       â”‚              â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚              â”‚
â”‚  â”‚  â”‚  STSServo Driver                â”‚ â”‚              â”‚
â”‚  â”‚  â”‚  (FTServo library)              â”‚ â”‚              â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                 â”‚                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚ UART @ 1Mbaud
                  â–¼
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   /dev/ttyACM0     â”‚
         â”‚  (Serial Port)     â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚  Servo Bus         â”‚
         â”‚  (6 servos)        â”‚
         â”‚                    â”‚
         â”‚  ID 1: Rotation    â”‚
         â”‚  ID 2: Pitch       â”‚
         â”‚  ID 3: Elbow       â”‚
         â”‚  ID 4: Wrist_Pitch â”‚
         â”‚  ID 5: Wrist_Roll  â”‚
         â”‚  ID 6: Jaw         â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â–¼  â–¼  â–¼
         [æœºæ¢°è‡‚ç‰©ç†ç¡¬ä»¶]
```

### MoveIt è§„åˆ’æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MoveIt Pipeline                       â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚  â”‚  RViz Plugin â”‚                                       â”‚
â”‚  â”‚  (ç”¨æˆ·è¾“å…¥)  â”‚                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚         â”‚                                                â”‚
â”‚         â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  MoveGroup                            â”‚              â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚
â”‚  â”‚  â”‚  1. Scene Monitor              â”‚  â”‚              â”‚
â”‚  â”‚  â”‚     (ç›‘æ§ç¯å¢ƒå’Œæœºå™¨äººçŠ¶æ€)    â”‚  â”‚              â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚
â”‚  â”‚  â”‚  2. Planning Scene             â”‚  â”‚              â”‚
â”‚  â”‚  â”‚     (ç®¡ç†ç¢°æ’å¯¹è±¡)             â”‚  â”‚              â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚
â”‚  â”‚  â”‚  3. Planning Pipeline (OMPL)   â”‚  â”‚              â”‚
â”‚  â”‚  â”‚     â€¢ RRTConnect               â”‚  â”‚              â”‚
â”‚  â”‚  â”‚     â€¢ RRT                      â”‚  â”‚              â”‚
â”‚  â”‚  â”‚     â€¢ PRM                      â”‚  â”‚              â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚
â”‚  â”‚  â”‚  4. Trajectory Processing      â”‚  â”‚              â”‚
â”‚  â”‚  â”‚     â€¢ Time Parameterization    â”‚  â”‚              â”‚
â”‚  â”‚  â”‚     â€¢ Collision Check          â”‚  â”‚              â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚              â”‚
â”‚  â”‚  â”‚  5. Controller Interface       â”‚  â”‚              â”‚
â”‚  â”‚  â”‚     (å‘é€åˆ° arm_controller)    â”‚  â”‚              â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚         â”‚                                                â”‚
â”‚         â–¼                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  FollowJointTrajectory Action        â”‚              â”‚
â”‚  â”‚  (arm_controller)                    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚         â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
    [ç¡¬ä»¶æ¥å£æ‰§è¡Œ]
```

---

## ğŸ”„ æ•°æ®æµ

### 1. çŠ¶æ€ä¿¡æ¯æµï¼ˆä¸Šè¡Œï¼‰

```
çœŸå®èˆµæœº
  â†“ (UART è¯»å–ï¼Œ100Hz)
STSServo Driver
  â†“ (è¯»å–ä½ç½®/é€Ÿåº¦)
SoArmHardwareInterface::read()
  â†“ (è½¬æ¢ä¸ºå¼§åº¦)
Hardware Interface
  â†“ (StateInterface)
Controller Manager
  â†“ (/joint_states topic)
â”œâ”€â†’ RViz (å¯è§†åŒ–)
â”œâ”€â†’ MoveIt (çŠ¶æ€ç›‘æ§)
â””â”€â†’ å…¶ä»–èŠ‚ç‚¹
```

### 2. å‘½ä»¤ä¿¡æ¯æµï¼ˆä¸‹è¡Œï¼‰

```
ç”¨æˆ·è¾“å…¥ (RViz/ä»£ç )
  â†“
MoveIt move_group
  â†“ (è§„åˆ’è½¨è¿¹)
/arm_controller/follow_joint_trajectory action
  â†“
JointTrajectoryController
  â†“ (æ’å€¼ç”Ÿæˆå®æ—¶ç›®æ ‡)
Command Interface
  â†“ (100Hz)
SoArmHardwareInterface::write()
  â†“ (è½¬æ¢ä¸ºèˆµæœºå•ä½)
STSServo Driver
  â†“ (SyncWrite)
çœŸå®èˆµæœº (UART å†™å…¥)
```

---

## âš™ï¸ é…ç½®å‚æ•°å±‚æ¬¡

### 1. URDF å±‚ï¼ˆæœºæ¢°å‚æ•°ï¼‰
```
so_arm_description/urdf/so101.urdf.xacro
  â”œâ”€ è¿æ†é•¿åº¦ã€è´¨é‡ã€æƒ¯æ€§
  â”œâ”€ å…³èŠ‚è½´å®šä¹‰
  â””â”€ ç¢°æ’/è§†è§‰å‡ ä½•
```

### 2. ROS2 Control å±‚ï¼ˆç¡¬ä»¶æ˜ å°„ï¼‰
```
so_arm_description/urdf/so101.ros2_control.hardware.xacro
  â”œâ”€ èˆµæœº ID æ˜ å°„
  â”œâ”€ ä½ç½®åç§»ï¼ˆposition_offsetï¼‰
  â”œâ”€ ä½ç½®ç¼©æ”¾ï¼ˆposition_scaleï¼‰
  â””â”€ ä¸²å£å‚æ•°
```

### 3. Controller å±‚ï¼ˆæ§åˆ¶å‚æ•°ï¼‰
```
so_arm_bringup/config/ros2_controllers.yaml
  â”œâ”€ æ§åˆ¶å™¨æ›´æ–°é¢‘ç‡ (100Hz)
  â”œâ”€ å…³èŠ‚åç§°åˆ—è¡¨
  â”œâ”€ PID å‚æ•°ï¼ˆå¦‚æœæœ‰ï¼‰
  â””â”€ è½¨è¿¹çº¦æŸ
```

### 4. MoveIt å±‚ï¼ˆè§„åˆ’å‚æ•°ï¼‰
```
so_arm_moveit_config/config/
  â”œâ”€ kinematics.yaml        # è¿åŠ¨å­¦æ±‚è§£å™¨
  â”œâ”€ joint_limits.yaml      # é€Ÿåº¦/åŠ é€Ÿåº¦é™åˆ¶
  â”œâ”€ ompl_planning.yaml     # è§„åˆ’å™¨é…ç½®
  â””â”€ moveit_controllers.yaml # MoveItæ§åˆ¶å™¨æ˜ å°„
```

---

## ğŸš€ å¯åŠ¨æµç¨‹

### å®Œæ•´ MoveIt å¯åŠ¨æµç¨‹

```bash
ros2 launch so_arm_bringup so_arm_moveit_hardware.launch.py
```

**å¯åŠ¨é¡ºåº**ï¼š

```
1. Robot State Publisher (t=0s)
   â””â”€ å‘å¸ƒ /robot_description
   â””â”€ å‘å¸ƒ /tf_static

2. ROS2 Control Node (t=0s)
   â”œâ”€ åŠ è½½ hardware_interface æ’ä»¶
   â”œâ”€ åˆå§‹åŒ– SoArmHardwareInterface
   â”œâ”€ è¿æ¥èˆµæœº (/dev/ttyACM0)
   â”œâ”€ æ‰«æå¹¶éªŒè¯6ä¸ªèˆµæœº
   â””â”€ ä½¿èƒ½æ‰€æœ‰èˆµæœºæ‰­çŸ©

3. Joint State Broadcaster (t=0s)
   â””â”€ å¼€å§‹å‘å¸ƒ /joint_states (100Hz)

4. Arm Controller (t=+3s å»¶è¿Ÿ)
   â””â”€ åŠ è½½ JointTrajectoryController
   â””â”€ æä¾› follow_joint_trajectory action

5. MoveIt move_group (t=+5s å»¶è¿Ÿ)
   â”œâ”€ åŠ è½½è¿åŠ¨å­¦æ±‚è§£å™¨
   â”œâ”€ åŠ è½½è§„åˆ’å™¨ï¼ˆOMPLï¼‰
   â”œâ”€ å¯åŠ¨ planning_scene_monitor
   â””â”€ æä¾›è§„åˆ’æœåŠ¡

6. RViz2 (t=+8s å»¶è¿Ÿ)
   â””â”€ åŠ è½½ MoveIt MotionPlanning æ’ä»¶
   â””â”€ æ˜¾ç¤ºäº¤äº’å¼æ ‡è®°
```

---

## ğŸ› ï¸ å·¥å…·å’Œè„šæœ¬

### è¯Šæ–­å·¥å…·

#### `fix_servo.cpp`
- èˆµæœºè¯Šæ–­å’Œä¿®å¤å·¥å…·
- åŠŸèƒ½ï¼š
  - æ‰«æèˆµæœº
  - è¯»å–è¯¦ç»†çŠ¶æ€ï¼ˆä½ç½®ã€ç”µå‹ã€æ¸©åº¦ã€ç”µæµï¼‰
  - æµ‹è¯•æ‰­çŸ©ä½¿èƒ½
  - æµ‹è¯•è¿åŠ¨
- ç¼–è¯‘ï¼š`./compile_fix_servo.sh`
- ä½¿ç”¨ï¼š`./fix_servo /dev/ttyACM0 [èˆµæœºID]`

### æµ‹è¯•è„šæœ¬

#### `quick_test.sh`
- è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬
- åŠŸèƒ½ï¼š
  - æ£€æŸ¥ä¸²å£
  - è¯Šæ–­èˆµæœº
  - å¯åŠ¨ç¡¬ä»¶æ¥å£
  - éªŒè¯æ§åˆ¶å™¨
  - å‘é€æµ‹è¯•å‘½ä»¤

#### `test_hardware_control.sh`
- äº¤äº’å¼æµ‹è¯•è„šæœ¬
- æä¾›å‘½ä»¤ç¤ºä¾‹

---

## ğŸ“š æ–‡æ¡£ç»“æ„

```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ START_HERE.md                    # å¿«é€Ÿå¼€å§‹
â”œâ”€â”€ PROJECT_ARCHITECTURE.md          # æœ¬æ–‡ä»¶ - æ¶æ„è¯´æ˜
â”œâ”€â”€ BUGFIX_SUMMARY.md               # Bug ä¿®å¤æ€»ç»“
â”œâ”€â”€ HARDWARE_SETUP_GUIDE.md         # ç¡¬ä»¶è®¾ç½®æŒ‡å—
â”œâ”€â”€ IMPLEMENTATION_DETAILS.md       # å®ç°ç»†èŠ‚
â”œâ”€â”€ TESTING_GUIDE.md                # å®Œæ•´æµ‹è¯•æŒ‡å—
â”œâ”€â”€ HOW_TO_TEST.md                  # æµ‹è¯•æ–¹æ³•
â”œâ”€â”€ RVIZ_CONTROL_GUIDE.md           # RViz æ§åˆ¶æŒ‡å—
â”œâ”€â”€ MOVEIT_HARDWARE_GUIDE.md        # MoveIt ç¡¬ä»¶æ§åˆ¶æŒ‡å—
â”œâ”€â”€ YAML_FIX_SUMMARY.md             # YAML ä¿®å¤æ€»ç»“
â”œâ”€â”€ TROUBLESHOOTING.md              # æ•…éšœæ’é™¤
â”œâ”€â”€ QUICK_TEST_GUIDE.md             # å¿«é€Ÿæµ‹è¯•æŒ‡å—
â””â”€â”€ README_TEST.md                  # æµ‹è¯•è¯´æ˜
```

**æ¨èé˜…è¯»é¡ºåº**ï¼š
1. `START_HERE.md` - å¿«é€Ÿå¼€å§‹
2. `PROJECT_ARCHITECTURE.md` (æœ¬æ–‡) - ç†è§£æ¶æ„
3. `MOVEIT_HARDWARE_GUIDE.md` - ä½¿ç”¨ MoveIt æ§åˆ¶
4. `TROUBLESHOOTING.md` - é‡åˆ°é—®é¢˜æ—¶æŸ¥çœ‹

---

## ğŸ”‘ å…³é”®æ¦‚å¿µ

### ROS2 Control

**ä¸‰ä¸ªæ ¸å¿ƒæ¥å£**ï¼š
```cpp
// 1. StateInterface - è¯»å–çŠ¶æ€
hw_states_positions_[i]  // å½“å‰ä½ç½®
hw_states_velocities_[i] // å½“å‰é€Ÿåº¦

// 2. CommandInterface - å†™å…¥å‘½ä»¤
hw_commands_[i]  // ç›®æ ‡ä½ç½®

// 3. Hardware Interface - å®ç°è¯»å†™
read()   // ä»ç¡¬ä»¶è¯»å–åˆ° StateInterface
write()  // ä» CommandInterface å†™å…¥åˆ°ç¡¬ä»¶
```

### MoveIt Planning

**è§„åˆ’æµç¨‹**ï¼š
```
1. è®¾ç½®ç›®æ ‡ (Goal)
   â†“
2. ç¢°æ’æ£€æµ‹
   â†“
3. è¿åŠ¨è§„åˆ’ (OMPL)
   â†“
4. è½¨è¿¹ä¼˜åŒ–
   â†“
5. æ—¶é—´å‚æ•°åŒ–
   â†“
6. æ‰§è¡Œ (Execute)
```

### åæ ‡å˜æ¢ï¼ˆTFï¼‰

**TF æ ‘ç»“æ„**ï¼š
```
world (è™šæ‹Ÿå›ºå®šåæ ‡ç³»)
  â””â”€ base_link
      â””â”€ shoulder
          â””â”€ lower_arm
              â””â”€ upper_arm
                  â””â”€ wrist
                      â””â”€ gripper
                          â””â”€ jaw
```

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1ï¼šåŸºç¡€ç¡¬ä»¶æµ‹è¯•

```bash
# å¯åŠ¨ï¼šä»…ç¡¬ä»¶æ¥å£
ros2 launch so_arm_bringup so_arm_hardware_simple.launch.py

# ä½¿ç”¨ï¼šå‘½ä»¤è¡Œæ§åˆ¶
ros2 topic pub --once /arm_controller/joint_trajectory ...
```

### åœºæ™¯ 2ï¼šå¯è§†åŒ–è°ƒè¯•

```bash
# å¯åŠ¨ï¼šç¡¬ä»¶ + RViz
ros2 launch so_arm_bringup so_arm_hardware_with_rviz.launch.py

# ä½¿ç”¨ï¼šå›¾å½¢åŒ–æ§åˆ¶å™¨
ros2 run rqt_joint_trajectory_controller rqt_joint_trajectory_controller
```

### åœºæ™¯ 3ï¼šå®Œæ•´ MoveIt æ§åˆ¶ â­

```bash
# å¯åŠ¨ï¼šç¡¬ä»¶ + MoveIt + RViz
ros2 launch so_arm_bringup so_arm_moveit_hardware.launch.py

# ä½¿ç”¨ï¼šRViz MotionPlanning æ’ä»¶
# - æ‹–åŠ¨äº¤äº’å¼æ ‡è®°
# - Plan & Execute
```

### åœºæ™¯ 4ï¼šç¨‹åºåŒ–æ§åˆ¶

```python
# Python MoveIt æ¥å£
from moveit_py import MoveItPy

moveit = MoveItPy(node_name="controller")
arm = moveit.get_planning_component("arm")

arm.set_goal_state(configuration_name="home")
plan = arm.plan()
moveit.execute(plan.trajectory)
```

---

## ğŸ”§ å¸¸è§è°ƒæ•´

### 1. ä¿®æ”¹å…³èŠ‚é™ä½

ç¼–è¾‘ï¼š`so_arm_moveit_config/config/joint_limits.yaml`

```yaml
joint_limits:
  Rotation:
    max_velocity: 5.0  # å‡é€Ÿ
    has_acceleration_limits: true
    max_acceleration: 2.0  # æ·»åŠ åŠ é€Ÿåº¦é™åˆ¶
```

### 2. ä¿®æ”¹èˆµæœºæ˜ å°„

ç¼–è¾‘ï¼š`so_arm_description/urdf/so101.ros2_control.hardware.xacro`

```xml
<param name="servo_id">1</param>           <!-- èˆµæœºID -->
<param name="position_offset">2048.0</param> <!-- ä¸­ä½åç§» -->
<param name="position_scale">0.00153398</param> <!-- ä½ç½®ç¼©æ”¾ -->
```

### 3. ä¿®æ”¹æ§åˆ¶é¢‘ç‡

ç¼–è¾‘ï¼š`so_arm_bringup/config/ros2_controllers.yaml`

```yaml
controller_manager:
  ros__parameters:
    update_rate: 100  # Hzï¼Œå¯ä»¥æ”¹ä¸º50æˆ–200
```

### 4. ä¿®æ”¹è§„åˆ’å™¨

ç¼–è¾‘ï¼š`so_arm_moveit_config/config/ompl_planning.yaml`

æˆ–åœ¨ RViz ä¸­é€‰æ‹©ä¸åŒçš„è§„åˆ’å™¨ã€‚

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | æ•°å€¼ | è¯´æ˜ |
|------|------|------|
| æ§åˆ¶é¢‘ç‡ | 100 Hz | read/write å¾ªç¯é¢‘ç‡ |
| é€šä¿¡æ³¢ç‰¹ç‡ | 1,000,000 bps | UART ä¸²å£é€Ÿåº¦ |
| èˆµæœºå“åº” | < 10ms | å‘½ä»¤åˆ°æ‰§è¡Œå»¶è¿Ÿ |
| MoveIt è§„åˆ’ | < 5s | å…¸å‹è§„åˆ’æ—¶é—´ |
| ä½ç½®ç²¾åº¦ | Â±1Â° | èˆµæœºä½ç½®ç²¾åº¦ |
| å…³èŠ‚èŒƒå›´ | è§ URDF | æ¯ä¸ªå…³èŠ‚ä¸åŒ |

---

## ğŸ“ å­¦ä¹ èµ„æº

### ROS2 ç›¸å…³
- ROS2 Documentation: https://docs.ros.org/
- ROS2 Control: https://control.ros.org/
- Nav2: https://navigation.ros.org/

### MoveIt ç›¸å…³
- MoveIt 2: https://moveit.picknik.ai/
- OMPL: https://ompl.kavrakilab.org/

### é¡¹ç›®ç‰¹å®š
- æœ¬é¡¹ç›®æ‰€æœ‰ `.md` æ–‡æ¡£
- FTServo é©±åŠ¨ç¤ºä¾‹: `~/FTServo_Linux/examples/`

---

## ğŸ” è°ƒè¯•æŠ€å·§

### æŸ¥çœ‹è¯é¢˜
```bash
# æ‰€æœ‰è¯é¢˜
ros2 topic list

# å…³èŠ‚çŠ¶æ€
ros2 topic echo /joint_states

# æ§åˆ¶å™¨çŠ¶æ€
ros2 topic echo /arm_controller/state
```

### æŸ¥çœ‹æ§åˆ¶å™¨
```bash
# åˆ—å‡ºæ‰€æœ‰æ§åˆ¶å™¨
ros2 control list_controllers

# æŸ¥çœ‹ç¡¬ä»¶æ¥å£
ros2 control list_hardware_interfaces

# æŸ¥çœ‹ç¡¬ä»¶ç»„ä»¶
ros2 control list_hardware_components
```

### æŸ¥çœ‹ TF
```bash
# æŸ¥çœ‹ TF æ ‘
ros2 run tf2_tools view_frames
evince frames.pdf

# å®æ—¶ç›‘æ§ TF
ros2 run tf2_ros tf2_echo base_link gripper
```

### æŸ¥çœ‹å‚æ•°
```bash
# move_group å‚æ•°
ros2 param list /move_group

# controller_manager å‚æ•°
ros2 param list /controller_manager
```

---

## ğŸš§ æœªæ¥æ‰©å±•

### å¯èƒ½çš„æ”¹è¿›æ–¹å‘

1. **ä¼ æ„Ÿå™¨é›†æˆ**
   - æ·»åŠ åŠ›ä¼ æ„Ÿå™¨
   - é›†æˆç›¸æœºï¼ˆè§†è§‰ä¼ºæœï¼‰
   - IMU ä¼ æ„Ÿå™¨

2. **æ§åˆ¶ç®—æ³•**
   - åŠ›æ§åˆ¶æ¨¡å¼
   - é˜»æŠ—æ§åˆ¶
   - å­¦ä¹ æ§åˆ¶ï¼ˆå¼ºåŒ–å­¦ä¹ ï¼‰

3. **åº”ç”¨å¼€å‘**
   - ç‰©ä½“æŠ“å–
   - è£…é…ä»»åŠ¡
   - åä½œæ“ä½œ

4. **ä»¿çœŸæ”¹è¿›**
   - Gazebo å®Œæ•´é›†æˆ
   - Isaac Sim æ›´æ·±åº¦é›†æˆ
   - æ•°å­—å­ªç”Ÿ

---

## ğŸ“ ç‰ˆæœ¬å†å²

- **v1.0** (2025-11-05)
  - âœ… åˆå§‹é¡¹ç›®ç»“æ„
  - âœ… Isaac Sim ä»¿çœŸæ”¯æŒ
  - âœ… ç¡¬ä»¶æ¥å£å®ç°
  - âœ… MoveIt é›†æˆ
  - âœ… Bug ä¿®å¤ï¼ˆè¿”å›å€¼åˆ¤æ–­é”™è¯¯ï¼‰
  - âœ… YAML é…ç½®ä¿®å¤
  - âœ… å®Œæ•´æ–‡æ¡£

---

**é¡¹ç›®æ¶æ„æ–‡æ¡£å®Œæˆï¼** ğŸ“š

å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒå…¶ä»–æ–‡æ¡£æˆ–ç›´æ¥æé—®ï¼
